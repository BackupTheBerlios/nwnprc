PRC SQL Support
PRC 2DA Caching System
PRC Crafting System v2.0

by CRV§ADER//KY


*********
* Notes *
*********

1)The 2DA_END constants for 2DA Caching are now in prccache.nss. You should delete your own and use these ones. Note that I've redefined a couple of them.

2)I've lowered the limit of FEAT_2DA_END and SPELLS_2DA_END, since that would prove to be a serious performance hit. I've based the new limit on the current PRC reservations table; it could be a good idea to re-check everything when PRC 2.3 goes beta. All values are now CEP compatible, too.

3)prc_version.2da must contain the version number of the PRC, plus any extra custom modifications. please refer to the HTML documentation. It is CRITICAL that this file gets updated before every PRC release.

4)the 2 new crafting spells are temporaneously defined as item properties. They should be associated to two new feats (with the same name and description) and added to the PRC as grantedonlevel=1 class feats for all base classes. Then you can remove the 2 additions in iprp_spells.2da as well as the craftingtools.uti item. (note: you could want to recolor the two icons to match feats colors).

5)prc_inc_craft.nss contains, at lines 16-18, a temporary placeholder for GetLevelByTypePsionicFeats(object oCreature). Such lines must be eliminated and the proper function has to be defined in the PRC includes.

6)nothing changes in prc_craft2das.hak - the new crafting system is 100% backwards compatible. However, I'd strongly suggest to move shifterlist.2da to prc_2das.hak.

7)I've added prc_inc_limbo.nss to the includes. You should use it for the other PRC scripts, too.

8)Most of the Crafting System ReqTypes are completely and utterly UNTESTED; in particular, creature/item RESULTs as well as ITEM and ITEMOR reqtypes are very bug-prone. The SQL support and the 2DA Caching System, inversely, are extremely well tested and shouldn't contain bugs.

9)In the scrolls directory there are some fixed scrolls that were buggy in 2.2c (I've already posted a bug report in "General Bugs" but I received no feedback).

*************************
* Patching Instructions *
*************************

1)Delete the following files:
	* misc/magicitemrecipe.uti
	* include/hd_i0_itemcreat.nss
	* scripts/hd_g0_heartbeat.nss
	* scripts/hd_g0_killprog.nss
	* scripts/hd_g0_trackprog.nss
	* scripts/hd_s0_readmagic.nss
	* scripts/hd_s2_craftarms.nss
	* scripts/hd_s2_craftrod.nss
	* scripts/hd_s2_craftstaf.nss
	* scripts/hd_s2_craftwond.nss
	* scripts/hd_s2_forgering.nss
	* scripts/hd_s3_read.nss
	
This file may be deleted as well if it's not needed by anything else:
	* scripts/hd_o0_heartbeat.nss
(In that case, you'll have to patch the script that used to call it as well).

2)Add all the files from "2da", "include", "misc" and "scripts" to the PRC
3)patch the PRC 2das and scripts with prc.patch (using UNIX patch or by hand). Note that all prc_cls_*.2da for base classes have to be patched (but the patch obviously contains only those base classes already available in 2.2c).
4)place the old prc_consortium.tlk into the main folder
5)get TLKTools from http://nwvault.ign.com/Files/other/data/1104354551000.shtml and place the Win32 binaries in this folder
5)run "tlktools tlkpatch.xml" from the DOS prompt
6)recompile the scripts
7)remove "Heart of Chaos" from the "limbo" map
8)add the contents of "tools" and "docs" to the PRC package
9)add the documents to the website
