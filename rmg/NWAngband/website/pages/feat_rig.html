<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="core.css" />
		<title>NWAngband</title>
	</head>
	<body>
		<h1>NWAngband - Features</h1>
		<a href="features.html" target="main">back to main features page</a>
		<h3>RIG - Random Item Generator</h3>
		<p>
			The basic idea is pretty much self explanatory: to make items at random. But not too random, or it wouldn't make sense and/or be unbalancing. This takes its key principle from Diablo: each item is assembled from 3 parts; a prefix, root, and suffix. The root determines what type of item it is; sword, shield, ring, etc. The prefix and suffix, collectively known as affixes, are selected from a list using DRDTs based on the root and the level the item is aimed at. Once you have all three components, the itemproperties for the affixes are applied and the item is renamed as appropriate. To give Epic items a suitably epic feel, they can have both a prefix and a suffix, whereas non-epic items can only have a prefix or a suffix.
			<br />On top of this, the appearance of each item is also randomised. This is done independently of the prefix / root / suffix structure so you could get two identical-looking items with very different properties, or items with the same properties but different appearances. As with many parts of NWAngband, this is again done through the DRDT system so that various sanity-checks can be applied and only valid combinations are used.
			<br />Overall, because of the combinations of prefix / root / affix, this allows for a truly vast number of items to be produced. In addition, because the DRDT system can weight the probabilities on almost any criteria you can think of, it can be easily balanced and tweaked to give a suitable distribution of items for the environment.
			<br />On a technical note, the system includes a large number of optimizations to decrease the lag it causes. The main one of which is a large cache of pre-generated items; since you normally need to create multiple items at once, this spreads out the load of the creation over a longer timeframe. There is a further optimisation of this such that when items are take from the cache, there is a probability of not removing the original and merely taking a copy. This means that as the cache gets low, although the odds of exact duplicates increase, the cache avoids "running dry" of items. I did look at storing the cache so that it is persistent between multiple modules, however it was not practical in terms of the amount of space required and the speed of bioware database access.
		</p>
<!-- FOOTER START -->
		<div class="footer">
			<hr />
			<p>
				This web page was made by Primogenitor and last updated on 31/10/06.
				<br />If for some reason you should wish to contact me : <a href="mailto:primogenitor@nwangband.awardspace.com?subject=NWAngband">primogenitor@nwangband.awardspace.com</a>
			</p>
			<p>
				<a href="http://jigsaw.w3.org/css-validator/"><img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
				<a href="http://validator.w3.org/check?uri=referer"><img style="border:0;width:88px;height:31px" src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Frameset"  />
			</p>
		</div>
<!-- FOOTER END -->
	</body>
</html>